<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Islamic Life Checklist</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .checked-item {
            background-color: #f0fdfa;
            border-color: #2dd4bf;
        }
        .progress-bar {
            transition: width 0.5s ease-out;
        }
        
        /* SVG Checkbox Animation Styles */
        .checkbox-container {
            position: relative;
            width: 30px;
            height: 30px;
            flex-shrink: 0;
        }
        
        .checkbox-input {
            position: absolute;
            opacity: 0;
            width: 30px;
            height: 30px;
            cursor: pointer;
            z-index: 10;
        }
        
        .checkbox-box {
            position: absolute;
            width: 30px;
            height: 30px;
            border: 3px solid #cbd5e1;
            border-radius: 6px;
            background: white;
            transition: all 0.3s ease;
        }
        
        .checkbox-input:checked ~ .checkbox-box {
            background: #14b8a6;
            border-color: #14b8a6;
        }
        
        .checkbox-svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 30px;
            height: 30px;
            pointer-events: none;
        }
        
        .checkbox-path {
            fill: none;
            stroke: white;
            stroke-width: 3;
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke-dasharray: 100;
            stroke-dashoffset: 100;
            transition: stroke-dashoffset 0.4s cubic-bezier(0.65, 0, 0.45, 1);
        }
        
        .checkbox-input:checked ~ .checkbox-svg .checkbox-path {
            stroke-dashoffset: 0;
        }

        [dir="rtl"] {
            direction: rtl;
        }
        
        [dir="rtl"] body {
            text-align: right;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-teal-50 via-emerald-50 to-cyan-50 p-4 md:p-8">
    <!-- Language Selector -->
    <div class="max-w-4xl mx-auto mb-4">
        <div class="flex justify-end gap-2">
            <button onclick="changeLanguage('en')" class="lang-btn px-4 py-2 rounded-lg bg-white shadow hover:shadow-md transition-all text-sm font-medium" data-lang="en">
                English
            </button>
            <button onclick="changeLanguage('ar')" class="lang-btn px-4 py-2 rounded-lg bg-white shadow hover:shadow-md transition-all text-sm font-medium" data-lang="ar">
                Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
            </button>
            <button onclick="changeLanguage('fr')" class="lang-btn px-4 py-2 rounded-lg bg-white shadow hover:shadow-md transition-all text-sm font-medium" data-lang="fr">
                FranÃ§ais
            </button>
        </div>
    </div>

    <div class="max-w-4xl mx-auto">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-teal-900 mb-2" data-translate="title">
                Islamic Life Checklist
            </h1>
            <p class="text-teal-700 text-lg" data-translate="subtitle">
                A journey of faith, growth, and service
            </p>
        </div>

        <!-- Progress Bar -->
        <div class="bg-white rounded-2xl p-6 shadow-lg mb-8">
            <div class="flex justify-between items-center mb-2">
                <span class="text-sm font-semibold text-gray-700" data-translate="progress">Progress</span>
                <span class="text-sm font-bold text-teal-600" id="progress-text">
                    0 / 50
                </span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                <div id="progress-bar" class="bg-gradient-to-r from-teal-500 to-emerald-500 h-full rounded-full progress-bar" style="width: 0%"></div>
            </div>
            <p class="text-xs text-gray-500 mt-2 text-center" id="progress-percentage">
                <span data-translate="complete">Complete</span> - <span data-translate="keepGoing">Keep going!</span> ðŸŒ™
            </p>
        </div>

        <!-- Checklist Items -->
        <div id="checklist-container" class="space-y-3"></div>

        <!-- Footer -->
        <div class="mt-12 text-center text-gray-600 text-sm">
            <p class="mb-2" data-translate="footer">May Allah accept all your efforts ðŸ¤²</p>
            <p class="text-xs" data-translate="autoSave">Your progress is saved automatically</p>
        </div>
    </div>

    <script>
        const translations = {
            en: {
                title: "Islamic Life Checklist",
                subtitle: "A journey of faith, growth, and service",
                progress: "Progress",
                complete: "Complete",
                keepGoing: "Keep going!",
                footer: "May Allah accept all your efforts ðŸ¤²",
                autoSave: "Your progress is saved automatically",
                categories: {
                    spiritual: "spiritual",
                    knowledge: "knowledge",
                    charity: "charity",
                    community: "community",
                    family: "family",
                    personal: "personal"
                },
                items: [
                    "Learn to recite Surah Al-Fatiha",
                    "Memorize your first Surah",
                    "Learn how to perform Wudu",
                    "Pray your first Salah",
                    "Fast your first day of Ramadan",
                    "Complete your first full Ramadan",
                    "Give your first Sadaqah",
                    "Learn the 5 Pillars of Islam",
                    "Read a book about the Prophet's life",
                    "Attend Jummah prayer",
                    "Visit a mosque for the first time",
                    "Make a Muslim friend",
                    "Attend an Islamic lecture or halaqah",
                    "Learn the meaning of Ayatul Kursi",
                    "Memorize the 99 Names of Allah",
                    "Pray Tahajjud for the first time",
                    "Complete reading the Quran",
                    "Learn about the Seerah",
                    "Give Zakat",
                    "Feed someone who is fasting",
                    "Attend Eid prayer",
                    "Visit the sick",
                    "Volunteer at a community service",
                    "Learn basic Arabic",
                    "Understand Tafsir of a Surah",
                    "Perform Umrah",
                    "Perform Hajj",
                    "Help organize an Islamic event",
                    "Teach someone about Islam",
                    "Read Sahih Bukhari or Muslim",
                    "Establish consistent daily Adhkar",
                    "Pray all 5 daily prayers on time for a month",
                    "Make Dua at Laylatul Qadr",
                    "Help a family in need",
                    "Build or maintain a good relationship with parents",
                    "Forgive someone who wronged you",
                    "Seek forgiveness from someone you wronged",
                    "Plant a tree or do environmental good",
                    "Study Islamic jurisprudence (Fiqh)",
                    "Attend an Islamic conference",
                    "Learn about the Sahaba",
                    "Make a habit of daily Quran recitation",
                    "Sponsor an orphan or contribute to orphan care",
                    "Visit the grave of a loved one and make Dua",
                    "Learn the etiquette of visiting the Prophet's mosque",
                    "Maintain family ties (Silat al-Rahim)",
                    "Overcome a bad habit for the sake of Allah",
                    "Make sincere Tawbah and renew your faith",
                    "Help someone memorize Quran",
                    "Leave a legacy of continuous charity (Sadaqah Jariyah)"
                ]
            },
            ar: {
                title: "Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©",
                subtitle: "Ø±Ø­Ù„Ø© Ù…Ù† Ø§Ù„Ø¥ÙŠÙ…Ø§Ù† ÙˆØ§Ù„Ù†Ù…Ùˆ ÙˆØ§Ù„Ø®Ø¯Ù…Ø©",
                progress: "Ø§Ù„ØªÙ‚Ø¯Ù…",
                complete: "Ù…ÙƒØªÙ…Ù„",
                keepGoing: "Ø§Ø³ØªÙ…Ø±!",
                footer: "ØªÙ‚Ø¨Ù„ Ø§Ù„Ù„Ù‡ Ø¬Ù…ÙŠØ¹ Ø¬Ù‡ÙˆØ¯Ùƒ ðŸ¤²",
                autoSave: "ÙŠØªÙ… Ø­ÙØ¸ ØªÙ‚Ø¯Ù…Ùƒ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹",
                categories: {
                    spiritual: "Ø±ÙˆØ­Ø§Ù†ÙŠ",
                    knowledge: "Ù…Ø¹Ø±ÙØ©",
                    charity: "Ø®ÙŠØ±ÙŠ",
                    community: "Ù…Ø¬ØªÙ…Ø¹ÙŠ",
                    family: "Ø¹Ø§Ø¦Ù„ÙŠ",
                    personal: "Ø´Ø®ØµÙŠ"
                },
                items: [
                    "ØªØ¹Ù„Ù… Ù‚Ø±Ø§Ø¡Ø© Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©",
                    "Ø­ÙØ¸ Ø£ÙˆÙ„ Ø³ÙˆØ±Ø© Ù„Ùƒ",
                    "ØªØ¹Ù„Ù… ÙƒÙŠÙÙŠØ© Ø§Ù„ÙˆØ¶ÙˆØ¡",
                    "ØµÙ„ÙÙ‘ Ø£ÙˆÙ„ ØµÙ„Ø§Ø© Ù„Ùƒ",
                    "ØµÙ… Ø£ÙˆÙ„ ÙŠÙˆÙ… Ù…Ù† Ø±Ù…Ø¶Ø§Ù†",
                    "Ø£ÙƒÙ…Ù„ Ø£ÙˆÙ„ Ø±Ù…Ø¶Ø§Ù† ÙƒØ§Ù…Ù„",
                    "ØªØµØ¯Ù‚ Ø¨Ø£ÙˆÙ„ ØµØ¯Ù‚Ø© Ù„Ùƒ",
                    "ØªØ¹Ù„Ù… Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ø§Ù„Ø®Ù…Ø³Ø©",
                    "Ø§Ù‚Ø±Ø£ ÙƒØªØ§Ø¨Ø§Ù‹ Ø¹Ù† Ø­ÙŠØ§Ø© Ø§Ù„Ù†Ø¨ÙŠ",
                    "Ø­Ø¶ÙˆØ± ØµÙ„Ø§Ø© Ø§Ù„Ø¬Ù…Ø¹Ø©",
                    "Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…Ø³Ø¬Ø¯ Ù„Ø£ÙˆÙ„ Ù…Ø±Ø©",
                    "Ø§ØµÙ†Ø¹ ØµØ¯Ø§Ù‚Ø© Ù…Ø³Ù„Ù…Ø©",
                    "Ø­Ø¶ÙˆØ± Ù…Ø­Ø§Ø¶Ø±Ø© Ø¥Ø³Ù„Ø§Ù…ÙŠØ© Ø£Ùˆ Ø­Ù„Ù‚Ø©",
                    "ØªØ¹Ù„Ù… Ù…Ø¹Ù†Ù‰ Ø¢ÙŠØ© Ø§Ù„ÙƒØ±Ø³ÙŠ",
                    "Ø­ÙØ¸ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù„Ù‡ Ø§Ù„Ø­Ø³Ù†Ù‰",
                    "ØµÙ„ÙÙ‘ Ø§Ù„ØªÙ‡Ø¬Ø¯ Ù„Ø£ÙˆÙ„ Ù…Ø±Ø©",
                    "Ø£ÙƒÙ…Ù„ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†",
                    "ØªØ¹Ù„Ù… Ø¹Ù† Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ©",
                    "Ø£Ø®Ø±Ø¬ Ø§Ù„Ø²ÙƒØ§Ø©",
                    "Ø£Ø·Ø¹Ù… ØµØ§Ø¦Ù…Ø§Ù‹",
                    "Ø­Ø¶ÙˆØ± ØµÙ„Ø§Ø© Ø§Ù„Ø¹ÙŠØ¯",
                    "Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…Ø±ÙŠØ¶",
                    "ØªØ·ÙˆØ¹ ÙÙŠ Ø®Ø¯Ù…Ø© Ù…Ø¬ØªÙ…Ø¹ÙŠØ©",
                    "ØªØ¹Ù„Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©",
                    "ÙÙ‡Ù… ØªÙØ³ÙŠØ± Ø³ÙˆØ±Ø©",
                    "Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø¹Ù…Ø±Ø©",
                    "Ø£Ø¯Ø§Ø¡ ÙØ±ÙŠØ¶Ø© Ø§Ù„Ø­Ø¬",
                    "Ø³Ø§Ø¹Ø¯ ÙÙŠ ØªÙ†Ø¸ÙŠÙ… Ø­Ø¯Ø« Ø¥Ø³Ù„Ø§Ù…ÙŠ",
                    "Ø¹Ù„Ù‘Ù… Ø´Ø®ØµØ§Ù‹ Ø¹Ù† Ø§Ù„Ø¥Ø³Ù„Ø§Ù…",
                    "Ø§Ù‚Ø±Ø£ ØµØ­ÙŠØ­ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ Ø£Ùˆ Ù…Ø³Ù„Ù…",
                    "Ø£Ø³Ø³ Ø£Ø°ÙƒØ§Ø±Ø§Ù‹ ÙŠÙˆÙ…ÙŠØ© Ø«Ø§Ø¨ØªØ©",
                    "ØµÙ„ÙÙ‘ Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„Ø®Ù…Ø³ ÙÙŠ ÙˆÙ‚ØªÙ‡Ø§ Ù„Ø´Ù‡Ø±",
                    "Ø§Ø¯Ø¹Ù ÙÙŠ Ù„ÙŠÙ„Ø© Ø§Ù„Ù‚Ø¯Ø±",
                    "Ø³Ø§Ø¹Ø¯ Ø¹Ø§Ø¦Ù„Ø© Ù…Ø­ØªØ§Ø¬Ø©",
                    "Ø¨Ù†Ø§Ø¡ Ø£Ùˆ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø¹Ù„Ø§Ù‚Ø© Ø¬ÙŠØ¯Ø© Ù…Ø¹ Ø§Ù„ÙˆØ§Ù„Ø¯ÙŠÙ†",
                    "Ø§Ø³Ø§Ù…Ø­ Ù…Ù† Ø£Ø³Ø§Ø¡ Ø¥Ù„ÙŠÙƒ",
                    "Ø§Ø·Ù„Ø¨ Ø§Ù„Ù…ØºÙØ±Ø© Ù…Ù…Ù† Ø£Ø³Ø£Øª Ø¥Ù„ÙŠÙ‡",
                    "Ø§Ø²Ø±Ø¹ Ø´Ø¬Ø±Ø© Ø£Ùˆ Ø§ÙØ¹Ù„ Ø®ÙŠØ±Ø§Ù‹ Ø¨ÙŠØ¦ÙŠØ§Ù‹",
                    "Ø§Ø¯Ø±Ø³ Ø§Ù„ÙÙ‚Ù‡ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ",
                    "Ø­Ø¶ÙˆØ± Ù…Ø¤ØªÙ…Ø± Ø¥Ø³Ù„Ø§Ù…ÙŠ",
                    "ØªØ¹Ù„Ù… Ø¹Ù† Ø§Ù„ØµØ­Ø§Ø¨Ø©",
                    "Ø§Ø¬Ø¹Ù„ ØªÙ„Ø§ÙˆØ© Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ø¹Ø§Ø¯Ø©",
                    "Ø§ÙƒÙÙ„ ÙŠØªÙŠÙ…Ø§Ù‹ Ø£Ùˆ Ø³Ø§Ù‡Ù… ÙÙŠ Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ø£ÙŠØªØ§Ù…",
                    "Ø²Ø± Ù‚Ø¨Ø± Ø¹Ø²ÙŠØ² ÙˆØ§Ø¯Ø¹Ù Ù„Ù‡",
                    "ØªØ¹Ù„Ù… Ø¢Ø¯Ø§Ø¨ Ø²ÙŠØ§Ø±Ø© Ù…Ø³Ø¬Ø¯ Ø§Ù„Ù†Ø¨ÙŠ",
                    "Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ ØµÙ„Ø© Ø§Ù„Ø±Ø­Ù…",
                    "ØªØºÙ„Ø¨ Ø¹Ù„Ù‰ Ø¹Ø§Ø¯Ø© Ø³ÙŠØ¦Ø© Ù…Ù† Ø£Ø¬Ù„ Ø§Ù„Ù„Ù‡",
                    "ØªØ¨ ØªÙˆØ¨Ø© Ù†ØµÙˆØ­Ø© ÙˆØ¬Ø¯Ø¯ Ø¥ÙŠÙ…Ø§Ù†Ùƒ",
                    "Ø³Ø§Ø¹Ø¯ Ø´Ø®ØµØ§Ù‹ Ø¹Ù„Ù‰ Ø­ÙØ¸ Ø§Ù„Ù‚Ø±Ø¢Ù†",
                    "Ø§ØªØ±Ùƒ Ø¥Ø±Ø«Ø§Ù‹ Ù…Ù† Ø§Ù„ØµØ¯Ù‚Ø© Ø§Ù„Ø¬Ø§Ø±ÙŠØ©"
                ]
            },
            fr: {
                title: "Liste de vie islamique",
                subtitle: "Un voyage de foi, de croissance et de service",
                progress: "ProgrÃ¨s",
                complete: "TerminÃ©",
                keepGoing: "Continue!",
                footer: "Qu'Allah accepte tous vos efforts ðŸ¤²",
                autoSave: "Votre progression est sauvegardÃ©e automatiquement",
                categories: {
                    spiritual: "spirituel",
                    knowledge: "connaissance",
                    charity: "charitÃ©",
                    community: "communautÃ©",
                    family: "famille",
                    personal: "personnel"
                },
                items: [
                    "Apprendre Ã  rÃ©citer la Sourate Al-Fatiha",
                    "MÃ©moriser votre premiÃ¨re Sourate",
                    "Apprendre comment faire les ablutions",
                    "Prier votre premiÃ¨re Salah",
                    "JeÃ»ner votre premier jour de Ramadan",
                    "ComplÃ©ter votre premier Ramadan complet",
                    "Donner votre premiÃ¨re Sadaqah",
                    "Apprendre les 5 Piliers de l'Islam",
                    "Lire un livre sur la vie du ProphÃ¨te",
                    "Assister Ã  la priÃ¨re du Jummah",
                    "Visiter une mosquÃ©e pour la premiÃ¨re fois",
                    "Se faire un ami musulman",
                    "Assister Ã  une confÃ©rence islamique ou halaqah",
                    "Apprendre le sens d'Ayatul Kursi",
                    "MÃ©moriser les 99 Noms d'Allah",
                    "Prier Tahajjud pour la premiÃ¨re fois",
                    "Terminer la lecture du Coran",
                    "Apprendre la Seerah",
                    "Donner la Zakat",
                    "Nourrir quelqu'un qui jeÃ»ne",
                    "Assister Ã  la priÃ¨re de l'AÃ¯d",
                    "Visiter les malades",
                    "Faire du bÃ©nÃ©volat dans un service communautaire",
                    "Apprendre l'arabe de base",
                    "Comprendre le Tafsir d'une Sourate",
                    "Accomplir la Omra",
                    "Accomplir le Hajj",
                    "Aider Ã  organiser un Ã©vÃ©nement islamique",
                    "Enseigner l'Islam Ã  quelqu'un",
                    "Lire Sahih Bukhari ou Muslim",
                    "Ã‰tablir des Adhkar quotidiens constants",
                    "Prier les 5 priÃ¨res quotidiennes Ã  l'heure pendant un mois",
                    "Faire des Duas pendant Laylatul Qadr",
                    "Aider une famille dans le besoin",
                    "Construire ou maintenir une bonne relation avec les parents",
                    "Pardonner quelqu'un qui vous a fait du tort",
                    "Demander pardon Ã  quelqu'un que vous avez blessÃ©",
                    "Planter un arbre ou faire du bien environnemental",
                    "Ã‰tudier la jurisprudence islamique (Fiqh)",
                    "Assister Ã  une confÃ©rence islamique",
                    "Apprendre sur les Sahaba",
                    "Prendre l'habitude de la rÃ©citation quotidienne du Coran",
                    "Parrainer un orphelin ou contribuer aux soins des orphelins",
                    "Visiter la tombe d'un Ãªtre cher et faire des Duas",
                    "Apprendre l'Ã©tiquette de la visite de la mosquÃ©e du ProphÃ¨te",
                    "Maintenir les liens familiaux (Silat al-Rahim)",
                    "Surmonter une mauvaise habitude pour Allah",
                    "Faire une Tawbah sincÃ¨re et renouveler votre foi",
                    "Aider quelqu'un Ã  mÃ©moriser le Coran",
                    "Laisser un hÃ©ritage de charitÃ© continue (Sadaqah Jariyah)"
                ]
            }
        };

        const checklistItems = [
            { id: 1, category: "spiritual" },
            { id: 2, category: "spiritual" },
            { id: 3, category: "spiritual" },
            { id: 4, category: "spiritual" },
            { id: 5, category: "spiritual" },
            { id: 6, category: "spiritual" },
            { id: 7, category: "charity" },
            { id: 8, category: "knowledge" },
            { id: 9, category: "knowledge" },
            { id: 10, category: "spiritual" },
            { id: 11, category: "spiritual" },
            { id: 12, category: "community" },
            { id: 13, category: "community" },
            { id: 14, category: "knowledge" },
            { id: 15, category: "spiritual" },
            { id: 16, category: "spiritual" },
            { id: 17, category: "spiritual" },
            { id: 18, category: "knowledge" },
            { id: 19, category: "charity" },
            { id: 20, category: "charity" },
            { id: 21, category: "spiritual" },
            { id: 22, category: "community" },
            { id: 23, category: "community" },
            { id: 24, category: "knowledge" },
            { id: 25, category: "knowledge" },
            { id: 26, category: "spiritual" },
            { id: 27, category: "spiritual" },
            { id: 28, category: "community" },
            { id: 29, category: "community" },
            { id: 30, category: "knowledge" },
            { id: 31, category: "spiritual" },
            { id: 32, category: "spiritual" },
            { id: 33, category: "spiritual" },
            { id: 34, category: "charity" },
            { id: 35, category: "family" },
            { id: 36, category: "personal" },
            { id: 37, category: "personal" },
            { id: 38, category: "charity" },
            { id: 39, category: "knowledge" },
            { id: 40, category: "community" },
            { id: 41, category: "knowledge" },
            { id: 42, category: "spiritual" },
            { id: 43, category: "charity" },
            { id: 44, category: "personal" },
            { id: 45, category: "knowledge" },
            { id: 46, category: "family" },
            { id: 47, category: "personal" },
            { id: 48, category: "spiritual" },
            { id: 49, category: "community" },
            { id: 50, category: "charity" }
        ];

        const categoryColors = {
            spiritual: "bg-emerald-100 text-emerald-800 border-emerald-300",
            knowledge: "bg-blue-100 text-blue-800 border-blue-300",
            charity: "bg-amber-100 text-amber-800 border-amber-300",
            community: "bg-purple-100 text-purple-800 border-purple-300",
            family: "bg-pink-100 text-pink-800 border-pink-300",
            personal: "bg-indigo-100 text-indigo-800 border-indigo-300"
        };

        let currentLang = localStorage.getItem('islamicChecklistLang') || 'en';
        let checkedItems = {};
        
        try {
            const saved = localStorage.getItem('islamicChecklist');
            if (saved) {
                checkedItems = JSON.parse(saved);
            }
        } catch (e) {
            console.error('Error loading saved data:', e);
        }

        function saveProgress() {
            localStorage.setItem('islamicChecklist', JSON.stringify(checkedItems));
        }

        function updateProgress() {
            const checkedCount = Object.values(checkedItems).filter(Boolean).length;
            const total = checklistItems.length;
            const progress = (checkedCount / total) * 100;

            document.getElementById('progress-text').textContent = `${checkedCount} / ${total}`;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            
            const completeText = document.querySelector('[data-translate="complete"]').textContent;
            const keepGoingText = document.querySelector('[data-translate="keepGoing"]').textContent;
            document.getElementById('progress-percentage').innerHTML = `${progress.toFixed(1)}% ${completeText} - ${keepGoingText} ðŸŒ™`;
        }

        function toggleItem(id) {
            checkedItems[id] = !checkedItems[id];
            saveProgress();
            updateProgress();
            renderItem(id);
        }

        function renderItem(id) {
            const item = checklistItems.find(i => i.id === id);
            const element = document.getElementById(`item-${id}`);
            const isChecked = checkedItems[id];
            const itemText = translations[currentLang].items[id - 1];
            const categoryText = translations[currentLang].categories[item.category];

            element.className = `bg-white rounded-xl p-4 shadow-md hover:shadow-xl transition-all duration-200 cursor-pointer border-2 ${
                isChecked ? 'checked-item' : 'border-transparent hover:border-teal-200'
            }`;

            element.innerHTML = `
                <div class="flex items-start gap-4">
                    <div class="checkbox-container">
                        <input type="checkbox" class="checkbox-input" ${isChecked ? 'checked' : ''} onchange="toggleItem(${id})">
                        <div class="checkbox-box"></div>
                        <svg class="checkbox-svg" viewBox="0 0 30 30">
                            <path class="checkbox-path" d="M 6 14 L 12 20 L 24 8"/>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <p class="text-lg transition-all duration-200 ${
                            isChecked ? 'text-gray-500 line-through' : 'text-gray-800'
                        }">
                            ${itemText}
                        </p>
                        <span class="inline-block mt-2 px-3 py-1 rounded-full text-xs font-medium border ${categoryColors[item.category]}">
                            ${categoryText}
                        </span>
                    </div>
                    <div class="flex-shrink-0 text-sm font-bold text-gray-400">
                        #${item.id}
                    </div>
                </div>
            `;
        }

        function renderChecklist() {
            const container = document.getElementById('checklist-container');
            container.innerHTML = '';
            
            checklistItems.forEach(item => {
                const div = document.createElement('div');
                div.id = `item-${item.id}`;
                container.appendChild(div);
                renderItem(item.id);
            });

            updateProgress();
        }

        function changeLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('islamicChecklistLang', lang);
            
            // Update direction for Arabic
            document.documentElement.setAttribute('dir', lang === 'ar' ? 'rtl' : 'ltr');
            document.documentElement.setAttribute('lang', lang);
            
            // Update all translated elements
            document.querySelectorAll('[data-translate]').forEach(el => {
                const key = el.getAttribute('data-translate');
                if (translations[lang][key]) {
                    el.textContent = translations[lang][key];
                }
            });
            
            // Highlight active language button
            document.querySelectorAll('.lang-btn').forEach(btn => {
                if (btn.getAttribute('data-lang') === lang) {
                    btn.classList.add('bg-teal-500', 'text-white');
                    btn.classList.remove('bg-white');
                } else {
                    btn.classList.remove('bg-teal-500', 'text-white');
                    btn.classList.add('bg-white');
                }
            });
            
            renderChecklist();
        }

        // Initialize
        changeLanguage(currentLang);
    </script>
</body>
</html>